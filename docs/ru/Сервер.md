# Сервер
### Создание сервера
#### Инициализация UPSS
```python
app = UPSS(
    addr="0.0.0.0",
    port=8080,
    encoding="utf-8",
    crypto=cryptographer.generate_crypto(),
    title="UPSS API",
    description="Better API for network"
)
```
Ни один из параметров класс не является обязательным, 
если не выставить параметр, то будут использованы значения 
по умолчанию. Все стандартные параметры описаны в примере сверху
##### Описание
- ``addr`` - IP адрес сервера
- ``port`` - Рабочий порт сервера
- ``encoding`` - Кодировка сервера
- ``crypto`` - Класс ассиметричного шифрования для обмена симметричным ключом
- ``title`` - Название сервера
- ``description`` - Описание сервера

#### Создание обработчиков
```python
@app.url("/")
def auth_handler(client, encoding, key, data):
    pass
```
Данный обработчик работает по пути ``/``
##### Описание
- ``client`` - Класс для отправки сообщений клиенту
- ``encoding`` - Кодировка
- ``key`` - Ключ симметричного шифрования
- ``data`` - Данные отправленные сервером

Отправка осуществляется через функцию ``client.send()`` [посмотреть](Отправка.md) \
Вы можете отправлять клиенту неограниченное количество пакетов
в рамках текущего подключения

#### Запуск сервера
```python
if __name__ == "__main__":
    app.run()
```

### Полный код примера
```python
from upss import UPSS

app = UPSS(
    addr="0.0.0.0",
    port=8080,
    encoding="utf-8",
    crypto=cryptographer.generate_crypto(),
    title="UPSS API",
    description="Better API for network"
)


@app.url("/")
def auth_handler(client, encoding, key, data):
    pass


if __name__ == "__main__":
    app.run()
```
